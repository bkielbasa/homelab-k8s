vikunja:
  enabled: true
  env:
    VIKUNJA_DATABASE_HOST: postgresql.postgresql.svc.cluster.local
    VIKUNJA_DATABASE_USER: vikunja
    VIKUNJA_DATABASE_DATABASE: vikunja
    VIKUNJA_DATABASE_PASSWORD:
      valueFrom:
          secretKeyRef:
            name: vikunja-env
            key: VIKUNJA_DATABASE_PASSWORD
  ingress:
    main:
      enabled: true
      className: nginx
      annotations:
        kubernetes.io/ingress.class: nginx
        cert-manager.io/cluster-issuer: letsencrypt-prod
      hosts:
        - host: todo.klimczak.xyz
          paths:
            - path: /
              pathType: ImplementationSpecific
      tls:
        - secretName: todo-tls
          hosts:
            - todo.klimczak.xyz
  persistence:
    data:
      enabled: true
      accessMode: ReadWriteOnce
      size: 1Gi
      mountPath: /app/vikunja/files
      storageClass: local-path

postgresql:
  enabled: false
  global:
    postgresql:
      auth:
        database: vikunja

typesense:
  persistence:
    data:
      storageClass: local-path
